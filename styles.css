/* ====== Base ====== */
* { box-sizing: border-box; }
html { -webkit-text-size-adjust: 100%; text-size-adjust: 100%; }
body {
  font-family: system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, sans-serif;
  margin: 0; padding: 0; background: #0b0d12;
}
a { color: #7cc7ff; text-decoration: none; }
/* header { padding: 1px; border-bottom: 1px solid #1e2230; display: flex; gap: 16px; align-items: center; } */
/* main { padding: 0px; margin: 0 auto; display: flex; flex-direction: column; align-items: center; justify-content: flex-start; min-height: 100vh; } */

.btn { background: #1f6feb; color: #fff; border: none; padding: 8px; border-radius: 8px; cursor: pointer;
  margin: 0; padding: 0; background: #0b0d12; color: #e6e6e6;
}
a { color: #7cc7ff; text-decoration: none; }
header { padding: 8px; border-bottom: 1px solid #1e2230; display: flex; gap: 16px; align-items: center; }
main { padding: 12px; max-width: 580px; margin: 0 auto; }

.btn { background: #1f6feb; color: #fff; border: none; padding: 10px 14px; border-radius: 8px; cursor: pointer; }
.btn[disabled] { opacity: .5; cursor: not-allowed; }
.btn.secondary { background: #30363d; }

/* ====== Card/container ====== */
.card {
  background: rgba(255,255,255,0.25);
  border: 3px solid #ffd700;
  border-radius: 20px;
  padding: 16px;
  /* margin: 16px auto; */ /* centrata orizzontalmente */
  box-shadow: 0 0 0 1px rgba(255,255,255,0.04), 0 10px 24px rgba(0,0,0,0.35);
  overflow: hidden;
  width: 100%;
  max-width: 1000px;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
}

.card h2, .card p { line-height: 1.3; margin-bottom: 8px; text-align: center; }

.grid { display: grid; gap: 12px; }
.options { display: grid; gap: 8px; }
.option {
  padding: 8px 10px;
  border: 1px solid #e6e9ef;
  border-radius: 10px;
  cursor: pointer;
  line-height: 1.2;
  box-shadow: 5px 5px 0 0 #999; /* Ombra solida grigia */
  background: #0f1320;
  border: 1px solid #3a4566;
  border-radius: 12px;
  padding: 16px;
  margin-bottom: 16px;
  box-shadow: 0 0 0 1px rgba(255,255,255,0.04), 0 10px 24px rgba(0,0,0,0.35);
  overflow: hidden;
}

/* Compattazione testo nelle domande */
.card h2, .card p {
  line-height: 1.3;
  margin-bottom: 8px;
}

.grid { display: grid; gap: 12px; }
.options { display: grid; gap: 8px; }   /* meno spazio tra le opzioni */
.option {
  padding: 8px 10px;                    /* meno padding interno */
  border: 1px solid #2b3040;
  border-radius: 10px;
  cursor: pointer;
  line-height: 1.2;                     /* interlinea più stretta */
}
.option.correct { border-color: #1fbf75; background: #0e2019; }
.option.wrong   { border-color: #ff7b72; background: #220f11; }

.toolbar { display: flex; gap: 6px; align-items: center; margin-bottom: 12px; width:100%; max-width:1000px; }
.toolbar { display: flex; gap: 12px; align-items: center; margin-bottom: 12px; }
input, select { background: #0b0d12; color: #e6e6e6; border: 1px solid #2b3040; border-radius: 8px; padding: 8px; }
.muted { color: #a8b3cf; }
.timer { font-weight: 700; padding: 6px 10px; border-radius: 8px; border: 1px solid #2b3040; }
.timer.warn   { background: #2d2a00; border-color: #847a00; color: #ffe066; }
.timer.danger { background: #2b0d10; border-color: #6b1e25; color: #ff7b72; }

/* ====== Navbar ====== */
.topnav { display: flex; gap: 16px; align-items: center; padding: 12px 10px; border-bottom: 1px solid #1f2430; }
.navlink { font-weight: 700; text-decoration: none; color: #9aa4b2; padding: 6px 0; }
.navlink:hover { color: #e6e9ef; }
.navlink.active { color: #fff; border-bottom: 2px solid #4f86ff; }

/* ====== Flashcards ====== */
.flashcard-stage { perspective: 1200px; min-height: 200px; overflow: hidden; }
.color-frame, .flip-card, .flip-inner { width: 100%; max-width: 100%; display: block; }
.color-frame { border-radius: 16px; padding: 2px; background: linear-gradient(135deg, rgba(255,255,255,0.08), rgba(255,255,255,0.02)); }
.flip-card { position: relative; height: clamp(200px, 25vh, 550px); border-radius: 16px; border: 1px solid #2b3040; overflow: hidden; }
.flip-inner { position: relative; height: 100%; transform-style: preserve-3d; transition: transform 360ms ease; }
.flip-inner.is-flipped { transform: rotateY(180deg); }
.flip-face { position: absolute; inset: 0; display: flex; flex-direction: column; align-items: center; justify-content: flex-start; padding: 20px 14px; text-align: center; backface-visibility: hidden; contain: layout paint size; word-break: break-word; height: 100%; overflow: hidden; }
.flip-front { transform: rotateY(0); }
.flip-back  { transform: rotateY(180deg); }
.flip-face > div { display: flex; flex-direction: column; height: 100%; width: 100%; }
.fc-text { font-size: 28px; line-height: 1.2; flex: 1; display: flex; align-items: center; justify-content: center; width: 100%; overflow-y: auto; -webkit-overflow-scrolling: touch; }
.flashcard-stage {
  perspective: 1200px;
  min-height: 200px;
  overflow: hidden;
}

.color-frame, .flip-card, .flip-inner {
  width: 100%;
  max-width: 100%;
  display: block;
}

.color-frame {
  border-radius: 16px;
  padding: 2px;
  background: linear-gradient(135deg, rgba(255,255,255,0.08), rgba(255,255,255,0.02));
}

/* Altezza fissa (responsive) per stabilità */
.flip-card {
  position: relative;
  height: clamp(200px, 25vh, 550px);
  border-radius: 16px;
  border: 1px solid #2b3040;
  overflow: hidden;
}

/* L’inner ruota ma segue la stessa altezza */
.flip-inner {
  position: relative;
  height: 100%;
  transform-style: preserve-3d;
  transition: transform 360ms ease;
}
.flip-inner.is-flipped { transform: rotateY(180deg); }

/* Facce: titolo in alto, testo gestito a parte (niente scroll qui) */
.flip-face {
  position: absolute; inset: 0;
  display: flex; flex-direction: column;
  align-items: center; 
  justify-content: flex-start;
  padding: 20px 14px;
  text-align: center;
  backface-visibility: hidden;
  contain: layout paint size;
  word-break: break-word;
  height: 100%;
  overflow: hidden;
}

.flip-front { transform: rotateY(0); }
.flip-back  { transform: rotateY(180deg); }

/* Wrapper interno */
.flip-face > div {
  display: flex;
  flex-direction: column;
  height: 100%;
  width: 100%;
}

/* Testo */
.fc-text {
  font-size: 28px;
  line-height: 1.2;
  flex: 1;
  display: flex;
  align-items: center;
  justify-content: center;
  width: 100%;
  overflow-y: auto;
  -webkit-overflow-scrolling: touch;
}

/* Scrollbar (desktop) */
.fc-text::-webkit-scrollbar { width: 10px; }
.fc-text::-webkit-scrollbar-thumb { background: rgba(0,0,0,.35); border-radius: 8px; }
.fc-text::-webkit-scrollbar-track { background: transparent; }
.fc-text { scrollbar-width: thin; scrollbar-color: rgba(0,0,0,.35) transparent; }

/* ====== Animazioni ====== */
@keyframes slideInRightBlur { 0% { transform: translateX(60px); filter: blur(6px); opacity: 0; } 100% { transform: translateX(0); filter: blur(0); opacity: 1; } }
@keyframes slideOutLeftBlur { 0% { transform: translateX(0); filter: blur(0); opacity: 1; } 100% { transform: translateX(-60px); filter: blur(6px); opacity: 0; } }
@keyframes slideInLeftBlur { 0% { transform: translateX(-60px); filter: blur(6px); opacity: 0; } 100% { transform: translateX(0); filter: blur(0); opacity: 1; } }
@keyframes slideOutRightBlur { 0% { transform: translateX(0); filter: blur(0); opacity: 1; } 100% { transform: translateX(60px); filter: blur(6px); opacity: 0; } }
@keyframes slideInRightBlur {
  0% { transform: translateX(60px); filter: blur(6px); opacity: 0; }
  100% { transform: translateX(0); filter: blur(0); opacity: 1; }
}
@keyframes slideOutLeftBlur {
  0% { transform: translateX(0); filter: blur(0); opacity: 1; }
  100% { transform: translateX(-60px); filter: blur(6px); opacity: 0; }
}
@keyframes slideInLeftBlur {
  0% { transform: translateX(-60px); filter: blur(6px); opacity: 0; }
  100% { transform: translateX(0); filter: blur(0); opacity: 1; }
}
@keyframes slideOutRightBlur {
  0% { transform: translateX(0); filter: blur(0); opacity: 1; }
  100% { transform: translateX(60px); filter: blur(6px); opacity: 0; }
}

.anim-in-right { animation: slideInRightBlur 300ms ease forwards; }
.anim-in-left  { animation: slideInLeftBlur 300ms ease forwards; }
.anim-out-left { animation: slideOutLeftBlur 260ms ease forwards; }
.anim-out-right{ animation: slideOutRightBlur 260ms ease forwards; }

/* ====== Bottoni ====== */
.fc-buttons { display: flex; gap: 10px; justify-content: center; flex-wrap: wrap; width: 100%; }
.fc-buttons {
  display: flex;
  gap: 10px;
  justify-content: center;
  flex-wrap: wrap;
  width: 100%;
}

/* —— Mobile —— */
@media (max-width: 480px) {
  .flip-card { height: clamp(170px, 25vh, 400px); }
  .flip-face { padding: 16px 12px; }
  .fc-text { font-size: 22px; line-height: 1.1; overflow-y: scroll; }

  .fc-text {
    font-size: 22px;
    line-height: 1.1;
    overflow-y: scroll;
  }
  .fc-text::-webkit-scrollbar { width: 14px; }
  .fc-text::-webkit-scrollbar-thumb { background: rgba(0,0,0,.4); border-radius: 8px; }
  .fc-text::-webkit-scrollbar-track { background: transparent; }
  .fc-text { scrollbar-width: thin; scrollbar-color: rgba(0,0,0,.4) transparent; }
  .fc-buttons .btn { padding: 8px 12px; }
  .option { padding: 6px 8px; margin-bottom: 5px; font-size: 15px; line-height: 1.1; }
  .card h2, .card p { line-height: 1.2; margin-bottom: 6px; }

  .fc-buttons .btn { padding: 8px 12px; }

  /* Compattazione extra delle opzioni su mobile */
  .option {
    padding: 6px 8px;
    margin-bottom: 5px;
    font-size: 15px;
    line-height: 1.1;
  }
  .card h2, .card p {
    line-height: 1.2;
    margin-bottom: 6px;
  }
}

@media (max-width: 380px) {
  .fc-buttons .btn { flex: 1 1 45%; max-width: 220px; }
}
